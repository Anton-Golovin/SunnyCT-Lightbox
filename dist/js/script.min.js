!function(){function e(){0===linkIndex?($(".prev").hide(),$(".next").show()):linkIndex+1===u.length?($(".next").hide(),$(".prev").show()):($(".prev").show(),$(".next").show()),v.show()}function t(){var e=$(".bigImg").prop("naturalWidth"),t=$(".bigImg").prop("naturalHeight"),n=Math.floor(.7*$(window).width()),i=Math.floor(.7*$(window).height()),r=Math.floor(e/(t/i)),o=Math.floor(t/(e/n)),a=e-n,s=t-i;if(s>0&&s>a){var l=Math.floor(-(i/2)-10);g.css({"margin-top":l}),g.width(r),g.height(i)}else if(a>0){var l=Math.floor(-(o/2)-10);g.css({"margin-top":l}),g.width(n),g.height(o)}else{var l=Math.floor(-(t/2)-10);g.css({"margin-top":l}),g.width(e),g.height(t)}}function n(n){$.ajax({type:"POST",url:n,beforeSend:function(){e(),v.hide(),w.fadeOut(500),p.show()},success:function(){setTimeout(function(){t()},1500),setTimeout(function(){p.hide(),w.fadeIn(500)},2500),setTimeout(function(){v.show()},3e3)},complete:function(){setTimeout(function(){w.attr({src:n})},500)},error:function(e,t){0==e.status?alert("The Web-server is not available! Please check your network."):404==e.status?alert("Requested URL not found."):500==e.status?alert("Internel Server Error."):"parsererror"==t?alert("Error. Parsing JSON Request failed."):"timeout"==t?alert("Request Time out."):alert("Unknow Error.\n"+e.responseText)}})}function i(e){var t=$(this).attr("href");window.linkIndex=$(this).index(),n(t),e.preventDefault(),m.fadeIn(500),g.addClass("active")}function r(){w.fadeOut(500),m.fadeOut(500),g.removeClass("active"),setTimeout(function(){p.show(),g.width(200),g.height(200)},500)}function o(){if(linkIndex>0){var e=u.eq(linkIndex-1),t=e.attr("href");linkIndex--,n(t)}}function a(){if(linkIndex+1<u.length){var e=u.eq(linkIndex+1),t=e.attr("href");linkIndex++,n(t)}}for(var s=document,l=s.getElementsByClassName("minImg"),h=s.getElementsByClassName("close"),d=s.getElementsByClassName("overlay"),f=s.getElementsByClassName("prev"),c=s.getElementsByClassName("next"),u=$(".minImg"),m=$(".lightBox-wrapper"),g=$(".bigImg-wrapper"),v=$(".nav-wrapper"),w=$(".bigImg"),p=$(".loadImg"),I=0;I<l.length;I++)l[I].addEventListener("click",i);h[0].addEventListener("click",r),d[0].addEventListener("click",r),c[0].addEventListener("click",a),f[0].addEventListener("click",o)}();